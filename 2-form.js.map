{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = {\n  email: '',\n  message: '',\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formFeedback = document.querySelector('.feedback-form');\nconst emailInput = formFeedback.elements.email;\nconst messageTextarea = formFeedback.elements.message;\n\nemailInput.removeAttribute('required');\nmessageTextarea.removeAttribute('required');\n\nfunction loadLocalStorage() {\n  try {\n    const serializedState = localStorage.getItem(STORAGE_KEY);\n    if (serializedState) {\n      const state = JSON.parse(serializedState);\n\n      formData = {\n        email: state.email || '',\n        message: state.message || '',\n      };\n      emailInput.value = formData.email;\n      messageTextarea.value = formData.message;\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nloadLocalStorage();\n\nformFeedback.addEventListener('input', event => {\n  if (event.target.name === 'email' || event.target.name === 'message') {\n    formData[event.target.name] = event.target.value;\n  }\n  try {\n    const serializedState = JSON.stringify(formData);\n    localStorage.setItem(STORAGE_KEY, serializedState);\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nformFeedback.addEventListener('submit', event => {\n  event.preventDefault();\n  const currentEmail = emailInput.value.trim();\n  const currentMessage = messageTextarea.value.trim();\n\n  formData.email = currentEmail;\n  formData.message = currentMessage;\n\n  if (currentEmail === '' || currentMessage === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log('Form Data:', formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n\n  formData = {\n    email: '',\n    message: '',\n  };\n\n  formFeedback.reset();\n});\n"],"names":["formData","STORAGE_KEY","formFeedback","emailInput","messageTextarea","loadLocalStorage","serializedState","state","error","event","currentEmail","currentMessage"],"mappings":"wFAAA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAc,sBAEdC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAaD,EAAa,SAAS,MACnCE,EAAkBF,EAAa,SAAS,QAE9CC,EAAW,gBAAgB,UAAU,EACrCC,EAAgB,gBAAgB,UAAU,EAE1C,SAASC,GAAmB,CAC1B,GAAI,CACF,MAAMC,EAAkB,aAAa,QAAQL,CAAW,EACxD,GAAIK,EAAiB,CACnB,MAAMC,EAAQ,KAAK,MAAMD,CAAe,EAExCN,EAAW,CACT,MAAOO,EAAM,OAAS,GACtB,QAASA,EAAM,SAAW,EAClC,EACMJ,EAAW,MAAQH,EAAS,MAC5BI,EAAgB,MAAQJ,EAAS,OAClC,CACF,OAAQQ,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CACAH,IAEAH,EAAa,iBAAiB,QAASO,GAAS,EAC1CA,EAAM,OAAO,OAAS,SAAWA,EAAM,OAAO,OAAS,aACzDT,EAASS,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,OAE7C,GAAI,CACF,MAAMH,EAAkB,KAAK,UAAUN,CAAQ,EAC/C,aAAa,QAAQC,EAAaK,CAAe,CAClD,OAAQE,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAAC,EAEDN,EAAa,iBAAiB,SAAUO,GAAS,CAC/CA,EAAM,eAAc,EACpB,MAAMC,EAAeP,EAAW,MAAM,KAAI,EACpCQ,EAAiBP,EAAgB,MAAM,KAAI,EAKjD,GAHAJ,EAAS,MAAQU,EACjBV,EAAS,QAAUW,EAEfD,IAAiB,IAAMC,IAAmB,GAAI,CAChD,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAI,aAAcX,CAAQ,EAElC,aAAa,WAAWC,CAAW,EAEnCD,EAAW,CACT,MAAO,GACP,QAAS,EACb,EAEEE,EAAa,MAAK,CACpB,CAAC"}